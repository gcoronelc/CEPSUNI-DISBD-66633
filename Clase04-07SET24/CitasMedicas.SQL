
CREATE TABLE CITA
( 
	IDCITA               integer IDENTITY ( 1,1 ) ,
	FECHA                datetime  NULL ,
	IDPROGRAMACION       integer  NOT NULL ,
	IDPACIENTE           integer  NOT NULL ,
	PRECIO               numeric(10,2)  NOT NULL ,
	IDESTADO             integer  NOT NULL 
)
go



ALTER TABLE CITA
	ADD CONSTRAINT XPKCITA PRIMARY KEY  CLUSTERED (IDCITA ASC)
go



CREATE TABLE COMPROBANTE
( 
	IDCITA               integer  NOT NULL ,
	FECHA                datetime  NULL ,
	NRO_COMPROBANTE      varchar(20)  NOT NULL ,
	IMPORTE              numeric(10,2)  NOT NULL ,
	IMPUESTO             numeric(10,2)  NOT NULL ,
	TOTAL                numeric(10,2)  NOT NULL 
)
go



ALTER TABLE COMPROBANTE
	ADD CONSTRAINT XPKCOMPROBANTE PRIMARY KEY  CLUSTERED (IDCITA ASC)
go



CREATE TABLE CONSULTORIO
( 
	IDCONSULTORIO        integer  NOT NULL ,
	IDESPECIALIDAD       integer  NOT NULL ,
	NOMBRE               varchar(100)  NOT NULL ,
	ETIQUETA             varchar(20)  NOT NULL 
)
go



ALTER TABLE CONSULTORIO
	ADD CONSTRAINT XPKCONSULTORIO PRIMARY KEY  CLUSTERED (IDCONSULTORIO ASC)
go



CREATE TABLE ESPECIALIDAD
( 
	IDESPECIALIDAD       integer IDENTITY ( 1,1 ) ,
	NOMBRE               varchar(100)  NOT NULL ,
	DURACION             integer  NOT NULL ,
	PRECIO               numeric(10,2)  NOT NULL 
)
go



ALTER TABLE ESPECIALIDAD
	ADD CONSTRAINT XPKESPECIALIDAD PRIMARY KEY  CLUSTERED (IDESPECIALIDAD ASC)
go



CREATE TABLE ESTADO_CITA
( 
	IDESTADO             integer  NOT NULL ,
	NOMBRE               varchar(50)  NOT NULL 
)
go



ALTER TABLE ESTADO_CITA
	ADD CONSTRAINT XPKESTADO_CITA PRIMARY KEY  CLUSTERED (IDESTADO ASC)
go



CREATE TABLE MEDICO
( 
	IDMEDICO             integer IDENTITY ( 1,1 ) ,
	APELLIDOS            varchar(100)  NOT NULL ,
	NOMBRES              varchar(20)  NULL ,
	IDESPECIALIDAD       integer  NOT NULL 
)
go



ALTER TABLE MEDICO
	ADD CONSTRAINT XPKMEDICO PRIMARY KEY  CLUSTERED (IDMEDICO ASC)
go



CREATE TABLE PACIENTE
( 
	IDPACIENTE           integer IDENTITY ( 1,1 ) ,
	APELLIDOS            varchar(100)  NOT NULL ,
	NOMBRES              varchar(20)  NULL 
)
go



ALTER TABLE PACIENTE
	ADD CONSTRAINT XPKPACIENTE PRIMARY KEY  CLUSTERED (IDPACIENTE ASC)
go



CREATE TABLE PROGRAMACION
( 
	IDPROGRAMACION       integer IDENTITY ( 1,1 ) ,
	IDMEDICO             integer  NOT NULL ,
	IDTURNO              integer  NOT NULL ,
	IDCONSULTORIO        integer  NOT NULL ,
	FECHA                datetime  NOT NULL 
)
go



ALTER TABLE PROGRAMACION
	ADD CONSTRAINT XPKPROGRAMACION PRIMARY KEY  CLUSTERED (IDPROGRAMACION ASC)
go



CREATE TABLE TURNO
( 
	IDTURNO              integer  NOT NULL ,
	NOMBRE               varchar(20)  NOT NULL 
)
go



ALTER TABLE TURNO
	ADD CONSTRAINT XPKTURNO PRIMARY KEY  CLUSTERED (IDTURNO ASC)
go




ALTER TABLE CITA
	ADD CONSTRAINT R_6 FOREIGN KEY (IDPROGRAMACION) REFERENCES PROGRAMACION(IDPROGRAMACION)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
go




ALTER TABLE CITA
	ADD CONSTRAINT R_7 FOREIGN KEY (IDPACIENTE) REFERENCES PACIENTE(IDPACIENTE)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
go




ALTER TABLE CITA
	ADD CONSTRAINT R_8 FOREIGN KEY (IDESTADO) REFERENCES ESTADO_CITA(IDESTADO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
go




ALTER TABLE COMPROBANTE
	ADD CONSTRAINT R_9 FOREIGN KEY (IDCITA) REFERENCES CITA(IDCITA)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
go




ALTER TABLE CONSULTORIO
	ADD CONSTRAINT R_4 FOREIGN KEY (IDESPECIALIDAD) REFERENCES ESPECIALIDAD(IDESPECIALIDAD)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
go




ALTER TABLE MEDICO
	ADD CONSTRAINT R_1 FOREIGN KEY (IDESPECIALIDAD) REFERENCES ESPECIALIDAD(IDESPECIALIDAD)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
go




ALTER TABLE PROGRAMACION
	ADD CONSTRAINT R_2 FOREIGN KEY (IDMEDICO) REFERENCES MEDICO(IDMEDICO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
go




ALTER TABLE PROGRAMACION
	ADD CONSTRAINT R_3 FOREIGN KEY (IDTURNO) REFERENCES TURNO(IDTURNO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
go




ALTER TABLE PROGRAMACION
	ADD CONSTRAINT R_5 FOREIGN KEY (IDCONSULTORIO) REFERENCES CONSULTORIO(IDCONSULTORIO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
go


